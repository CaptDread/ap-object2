{"version":3,"sources":["char-limiter.js"],"names":["keys","Object","symbols","i","arguments","source","ownKeys","_defineProperty","instance","props","descriptor","_defineProperties","Constructor","key","value","enumerable","configurable","writable","obj","CharLimiter","_this","options","_classCallCheck","limit","messageColor","warningColor","curValue","curCount","charLeft","warnValue","console","Math","_objectSpread","parseInt","element","_createClass","message","document"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CharLimiter = /*#__PURE__*/function () {\n  /**\n   * Params:\n   * \n   * \n   * -elements: dom element to impose a limit\n   * -options:objects of optional parameters\n   * -limit: numeric limit\n   * -messageColor: color of the \"x chars left\" message\n   * -\n   * \n   * should be called on a single input field, \n   * rather than a generic selector\n   * \n   * \n   */\n  function CharLimiter(element) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, CharLimiter);\n\n    _defineProperty(this, \"options\", {});\n\n    _defineProperty(this, \"DEFAULTS\", {\n      limit: 10,\n      messageColor: \"red\",\n      warningColor: \"yellow\",\n    });\n\n    _defineProperty(this, \"handleKeyUp\", function (evt) {\n      // console.log(`keyup`, evt, this)\n      var curValue = _this.element.value;\n      var curCount = curValue.length;\n      var charLeft = options.limit - curCount;\n      var warnValue = (options.limit/10);\n      console.log(`charLeft`, charLeft);\n      console.log(`warning at `, warnValue);\n      warnValue = Math.ceil(warnValue);\n      if (charLeft < warnValue) {\n        console.log(`This is your limit warning`)\n      }\n      if (charLeft < 1) {\n        console.log(`You've reached the limit`)\n      }\n    });\n\n    this.element = element;\n    this.options = _objectSpread(_objectSpread({}, this.DEFAULTS), options);\n    this.options.limit = parseInt(this.options.limit); // smart to do this right away, this makes the value always equal an interger.\n\n    console.log('CharLimiter', element, options, this.options);\n    console.log(`input`, element.name)\n    this.setup();\n  }\n\n  _createClass(CharLimiter, [{\n    key: \"setup\",\n    value: function setup() {\n      // add a new message feild to the Dom\n      var message = document.createElement(\"span\");\n      message.classList.add(this.element.name);\n      message.textContent = \"\".concat(this.options.limit, \" chars left\");\n      this.element.parentNode.appendChild(message); // setup an event listener on the input element\n\n      this.element.addEventListener(\"keyup\", this.handleKeyUp);\n    }\n  }]);\n\n  return CharLimiter;\n}();\n//# sourceMappingURL=char-limiter.js.map\n"],"file":"char-limiter.js"}